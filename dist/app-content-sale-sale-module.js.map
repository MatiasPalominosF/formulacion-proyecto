{"version":3,"sources":["./src/app/content/sale/sale.module.ts","./src/app/content/sale/sale-list/sale-list.component.ts","./src/app/content/sale/sale-list/sale-list.component.html","./src/app/content/sale/pay-sale/pay-sale.component.ts","./src/app/content/sale/pay-sale/pay-sale.component.html"],"names":[],"mappings":"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","file":"app-content-sale-sale-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SaleListComponent } from './sale-list/sale-list.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { BreadcrumbModule } from 'src/app/_layout/breadcrumb/breadcrumb.module';\r\nimport { NgbModalModule, NgbModule, NgbPaginationModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { BlockUIModule } from 'ng-block-ui';\r\nimport { BlockTemplateComponent } from 'src/app/_layout/blockui/block-template.component';\r\nimport { CardModule } from '../partials/general/card/card.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { PaySaleComponent } from './pay-sale/pay-sale.component';\r\nimport { ConfirmationDialogService } from 'src/app/_services/confirmation-dialog.service';\r\nimport { FilterPipeModule } from 'src/app/_pipe/filter-pipe.module';\r\nimport { DirectiveModule } from 'src/app/_directives/directive.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [SaleListComponent, PaySaleComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BreadcrumbModule,\r\n    CardModule,\r\n    NgbModule,\r\n    FilterPipeModule,\r\n    NgbPaginationModule,\r\n    ReactiveFormsModule,\r\n    DirectiveModule,\r\n    FormsModule,\r\n    NgbModalModule,\r\n    BlockUIModule.forRoot({\r\n      template: BlockTemplateComponent\r\n    }),\r\n    RouterModule.forChild([\r\n      {\r\n        path: 'sale-list',\r\n        component: SaleListComponent\r\n      }\r\n    ]),\r\n  ], providers: [ConfirmationDialogService]\r\n})\r\nexport class SaleModule { }\r\n","import { DecimalPipe } from '@angular/common';\r\nimport { Component, OnInit, PipeTransform } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { BlockUI, NgBlockUI } from 'ng-block-ui';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { ProductService } from 'src/app/_api/product/product.service';\r\nimport { ProductInterface } from 'src/app/_models/product';\r\nimport { Product } from 'src/app/_models/product2';\r\nimport { ConfirmationDialogService } from 'src/app/_services/confirmation-dialog.service';\r\nimport { NotificationService } from 'src/app/_services/notificacion.service';\r\nimport { PaySaleComponent } from '../pay-sale/pay-sale.component';\r\n\r\n@Component({\r\n  selector: 'app-sale-list',\r\n  templateUrl: './sale-list.component.html',\r\n  styleUrls: ['./sale-list.component.css']\r\n})\r\nexport class SaleListComponent implements OnInit {\r\n\r\n  @BlockUI('productsInfo') blockUIProductsInfo: NgBlockUI;\r\n  @BlockUI('productsSale') blockUIProductsSale: NgBlockUI;\r\n\r\n  public breadcrumb: any;\r\n  public loading = false;\r\n  public submitted = false;\r\n  public currentUser: any;\r\n  public collectionSize: any;\r\n  public pipe: any;\r\n  public productSortable: any;\r\n  public page = 1;\r\n  public pageSize = 4;\r\n  public precioTotal = 0;\r\n  public unidad: string;\r\n  private closeResult = '';\r\n\r\n  public productSearch: Observable<ProductInterface[]>;\r\n  public filter = new FormControl('');\r\n  private PRODUCT: ProductInterface[];\r\n  public productList: Array<Product> = [];\r\n  private selectedProduct: Product;\r\n  public productInfo: FormGroup;\r\n  public productInfo2: FormGroup;\r\n\r\n  headElements = ['#', 'Producto', 'Precio venta ($)', 'Stock', 'Acciones'];\r\n\r\n  elements2: any = [\r\n    { id: 1, first: 'Mark', last: 'Otto' },\r\n    { id: 2, first: 'Jacob', last: 'Thornton' },\r\n    { id: 3, first: 'Larry', last: 'the Bird' },\r\n  ];\r\n\r\n  headElements2 = ['Producto', 'Cantidad', 'Precio total ($)', 'Acciones'];\r\n\r\n  options = {\r\n    close: false,\r\n    expand: true,\r\n    minimize: true,\r\n    reload: true\r\n  };\r\n\r\n  constructor(\r\n    private productService: ProductService,\r\n    private formBuilder: FormBuilder,\r\n    private notifyService: NotificationService,\r\n    private confirmationDialogService: ConfirmationDialogService,\r\n    private modalService: NgbModal) {\r\n    this.productInfo = this.formBuilder.group({\r\n      name: ['', Validators.required],\r\n      quantity: ['', Validators.required],\r\n      total: ['', Validators.required]\r\n    });\r\n    this.productInfo2 = this.formBuilder.group({\r\n      precioTotal: ['']\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.breadcrumb = {\r\n      'mainlabel': 'Gestión de ventas',\r\n      'links': [\r\n        {\r\n          'name': 'Home',\r\n          'isLink': true,\r\n          'link': '/dashboard/ecommerce'\r\n        },\r\n        {\r\n          'name': 'Ventas',\r\n          'isLink': false,\r\n          'link': ''\r\n        }\r\n      ]\r\n    };\r\n\r\n    console.log(\"Esto tiene al iniciar: \" + this.productList.length);\r\n    this.getUserLogged();\r\n    this.getAllProducts();\r\n    this.emptyListProducts();\r\n  }\r\n\r\n  getAllProducts() {\r\n    this.blockUIProductsInfo.start('Loading..');\r\n    this.productService.getFullInfoProduct(this.currentUser.uid).subscribe(product => {\r\n      this.PRODUCT = product;\r\n      this.collectionSize = this.PRODUCT.length;\r\n      this.searchData(this.pipe);\r\n      this.productSortable = this.PRODUCT;\r\n      this.blockUIProductsInfo.stop();\r\n    });\r\n  }\r\n\r\n\r\n  refresh() {\r\n    this.getAllProducts();\r\n  }\r\n\r\n  /**\r\n  *\r\n  * '@param' pipe\r\n  */\r\n  searchData(pipe: DecimalPipe) {\r\n    console.log(\"this.productSearch \", this.productSearch);\r\n    this.productSearch = this.filter.valueChanges.pipe(\r\n      startWith(''),\r\n      map(text => this.search(text, pipe))\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Search table\r\n   * '@param' text\r\n   * '@param' pipe\r\n   */\r\n  search(text: string, pipe: PipeTransform) {\r\n    return this.PRODUCT.filter(response => {\r\n      const term = text.toLowerCase();\r\n      return response.name.toLowerCase().includes(term)\r\n        || response.total.toLowerCase().includes(term)\r\n        || response.stock.toLowerCase().includes(term)\r\n    });\r\n  }\r\n\r\n  getUserLogged(): void {\r\n    if (localStorage.getItem('currentUser')) {\r\n      this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    }\r\n  }\r\n\r\n\r\n  clearForm() {\r\n    this.productInfo.controls['name'].setValue(\"\");\r\n    this.productInfo.controls['quantity'].setValue(\"\");\r\n    this.productInfo.controls['total'].setValue(\"\");\r\n\r\n  }\r\n\r\n  previewAddProduct(product: ProductInterface) {\r\n    this.clearForm();\r\n    //console.log(\"PRODUCTO SELECCIONADO:\", product);\r\n    this.productInfo.controls['name'].patchValue(product.name);\r\n    this.productInfo.controls['total'].patchValue(product.total);\r\n\r\n    this.setMeasure(product);\r\n    this.selectedProduct = product;\r\n\r\n  }\r\n\r\n  setMeasure(product: ProductInterface) {\r\n    switch (product.measure) {\r\n      case \"1\":\r\n        this.unidad = \"Kg\";\r\n        break;\r\n      case \"2\":\r\n        this.unidad = \"Gr\";\r\n        break;\r\n      case \"3\":\r\n        this.unidad = \"Lt\";\r\n        break;\r\n      case \"4\":\r\n        this.unidad = \"Cc\";\r\n        break;\r\n      case \"5\":\r\n        this.unidad = \"Ml\";\r\n        break;\r\n      case \"6\":\r\n        this.unidad = \"Un\";\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  addPreview() {\r\n    console.log(\"this.selectedProduct\", this.selectedProduct);\r\n    if (this.selectedProduct != undefined) {\r\n      this.submitted = true;\r\n      if (this.productInfo.invalid) {\r\n        return;\r\n      }\r\n\r\n      if (this.productList.includes(this.selectedProduct)) {\r\n        this.productList.forEach(element => {\r\n          if (element.id === this.selectedProduct.id) {\r\n            var total = parseInt(this.fValue.total);\r\n            var quantity = parseInt(this.fValue.quantity);\r\n            var sum = (total * quantity) + element.totalPrice;\r\n            console.log(\"suma precio total: \", sum);\r\n            element.totalPrice = sum;\r\n            var tot = quantity + element.quantity;\r\n            console.log(\"suma cantidad total: \", tot);\r\n            element.quantity = tot;\r\n            this.sumTotal(this.productList[this.productList.length - 1], true, (total * quantity));\r\n          }\r\n        });\r\n      } else {\r\n        this.selectedProduct.quantity = parseInt(this.fValue.quantity);\r\n        this.selectedProduct.cancellation = false;\r\n        var total = parseInt(this.fValue.total);\r\n        var quantity = parseInt(this.fValue.quantity)\r\n        this.selectedProduct.totalPrice = total * quantity;\r\n        this.productList.push(this.selectedProduct);\r\n        this.sumTotal(this.productList[this.productList.length - 1], false, 0);\r\n      }\r\n      this.clearForm();\r\n      this.selectedProduct = undefined;\r\n      this.unidad = \"\";\r\n      this.submitted = false;\r\n    } else {\r\n      this.notifyService.showWarning(\"Aviso\", \"¡Debe seleccionar un producto!\");\r\n    }\r\n  }\r\n\r\n  sumTotal(product: Product, igual: boolean, total: number) {\r\n    if (igual) {\r\n      this.precioTotal += total;\r\n    } else {\r\n      this.precioTotal += product.totalPrice;\r\n    }\r\n    this.productInfo2.controls['precioTotal'].setValue(this.precioTotal);\r\n  }\r\n  restTotal(product: Product) {\r\n    this.precioTotal -= product.totalPrice;\r\n    this.productInfo2.controls['precioTotal'].setValue(this.precioTotal);\r\n  }\r\n\r\n  get f() {\r\n    return this.productInfo.controls;\r\n  }\r\n  get g() {\r\n    return this.productInfo2.controls;\r\n  }\r\n\r\n  get fValue() {\r\n    return this.productInfo.value;\r\n  }\r\n\r\n  get gValue() {\r\n    return this.productInfo2.value;\r\n  }\r\n\r\n  onRemove(value: any) {\r\n    this.confirmationDialogService.confirm('Confirmación', '¿Estás seguro de eliminar el producto?')\r\n      .then(confirmed => {\r\n        if (!confirmed) {\r\n        } else {\r\n          this.restTotal(this.productList[value])\r\n          this.productList.splice(value, 1);\r\n          this.notifyService.showSuccess(\"Eliminar\", \"¡El producto se eliminó correctamente!\");\r\n        }\r\n      }).catch(() => {\r\n        console.log(\"Not ok\");\r\n      });\r\n\r\n  }\r\n\r\n  reloadProductsInfo() {\r\n    this.refresh();\r\n  }\r\n\r\n  onPay() {\r\n\r\n    if (this.productList.length == 0 || this.productList.length < 0) {\r\n      this.notifyService.showWarning(\"Aviso\", \"¡Debe seleccionar un producto!\");\r\n    } else {\r\n      this.productService.productListSelected = this.productList;\r\n      const modalRef = this.modalService.open(PaySaleComponent, { windowClass: 'animated fadeInDown' });\r\n      modalRef.componentInstance.saldoTotal = this.gValue.precioTotal;\r\n      modalRef.result.then((result) => {\r\n        console.log(\"result:\", result);\r\n        if (result) {\r\n          this.emptyListProducts();\r\n          console.log(\"this.precioTotal\", this.precioTotal);\r\n          this.notifyService.showSuccess(\"Pagar\", \"¡Se ha realizado el pago correctamente!\");\r\n        }\r\n      }, (reason) => {\r\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n        console.log(this.closeResult);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  emptyListProducts() {\r\n    this.precioTotal = 0;\r\n    this.g['precioTotal'].patchValue(this.precioTotal);\r\n    while (this.productList.length > 0)\r\n      this.productList.pop();\r\n  }\r\n\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n\r\n  reloadSelectProductInfo() {\r\n    this.blockUIProductsSale.start('Loading..');\r\n    this.emptyListProducts();\r\n    this.blockUIProductsSale.stop();\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"app-content content\">\r\n  <div class=\"loader-wrapper\" *ngIf=\"loading\">\r\n    <div class=\"loader-container\">\r\n      <div class=\"ball-rotate loader-danger\">\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"content-wrapper\">\r\n    <div class=\"content-header row mb-1\">\r\n      <app-breadcrumb class=\"col-12\" [breadcrumb]=\"breadcrumb\"></app-breadcrumb>\r\n    </div>\r\n    <div class=\"content-body\">\r\n      <section class=\"left-right-offset\" id=\"left-right-offset\">\r\n        <div class=\"row\" matchHeight=\"card\">\r\n          <div\r\n            class=\"col-md-8 col-xl-8 col-lg-12\"\r\n            *blockUI=\"'productsInfo'; message: 'Loading'\"\r\n          >\r\n            <m-card\r\n              [options]=\"options\"\r\n              (reloadFunction)=\"reloadProductsInfo($event)\"\r\n            >\r\n              <ng-container mCardHeaderTitle>\r\n                Búsqueda de productos\r\n              </ng-container>\r\n              <ng-container mCardBody>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <form>\r\n                      <div class=\"form-group form-inline\">\r\n                        Buscar:\r\n                        <input\r\n                          class=\"form-control ml-2\"\r\n                          type=\"text\"\r\n                          [formControl]=\"filter\"\r\n                        />\r\n                      </div>\r\n                    </form>\r\n                    <div class=\"table-responsive card-body\">\r\n                      <table class=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th *ngFor=\"let head of headElements\" scope=\"col\">\r\n                              {{ head }}\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr\r\n                            mdbTableCol\r\n                            *ngFor=\"\r\n                              let element of productSearch\r\n                                | async\r\n                                | slice\r\n                                  : (page - 1) * pageSize\r\n                                  : (page - 1) * pageSize + pageSize;\r\n                              index as i\r\n                            \"\r\n                          >\r\n                            <th scope=\"row\">{{ i + 1 }}</th>\r\n                            <td>\r\n                              <ngb-highlight\r\n                                [result]=\"element.name\"\r\n                                [term]=\"filter.value\"\r\n                              >\r\n                              </ngb-highlight>\r\n                            </td>\r\n                            <td>\r\n                              <ngb-highlight\r\n                                [result]=\"element.total | number | transform\"\r\n                                [term]=\"filter.value\"\r\n                              >\r\n                              </ngb-highlight>\r\n                            </td>\r\n                            <td>\r\n                              <ngb-highlight\r\n                                [result]=\"element.stock\"\r\n                                [term]=\"filter.value\"\r\n                              >\r\n                              </ngb-highlight>\r\n                            </td>\r\n                            <td>\r\n                              <button\r\n                                (click)=\"previewAddProduct(element)\"\r\n                                class=\"btn btn-xs btn-social-icon btn-instagram\"\r\n                              >\r\n                                <span class=\"la la-cart-plus\"></span>\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                      <div class=\"d-flex justify-content-between p-2\">\r\n                        <ngb-pagination\r\n                          [collectionSize]=\"collectionSize\"\r\n                          [(page)]=\"page\"\r\n                          [pageSize]=\"pageSize\"\r\n                        >\r\n                        </ngb-pagination>\r\n\r\n                        <select\r\n                          class=\"custom-select\"\r\n                          style=\"width: auto\"\r\n                          [(ngModel)]=\"pageSize\"\r\n                        >\r\n                          <option [ngValue]=\"collectionSize\">\r\n                            Mostrar todos los ítems\r\n                          </option>\r\n                          <option [ngValue]=\"2\">2 ítems por página</option>\r\n                          <option [ngValue]=\"4\">4 ítems por página</option>\r\n                          <option [ngValue]=\"6\">6 ítems por página</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <form [formGroup]=\"productInfo\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-3 m-auto\">\r\n                      <label>Producto </label>\r\n                      <div class=\"input-group\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Nombre producto\"\r\n                          formControlName=\"name\"\r\n                          readonly\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-3 m-auto\">\r\n                      <label>Cantidad </label>\r\n                      <div class=\"input-group\">\r\n                        <input\r\n                          id=\"quantity\"\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Cantidad\"\r\n                          formControlName=\"quantity\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid': submitted && f.quantity.errors\r\n                          }\"\r\n                        />\r\n                        <div class=\"input-group-append\">\r\n                          <span class=\"input-group-text\" id=\"basic-addon2\">{{\r\n                            unidad\r\n                          }}</span>\r\n                        </div>\r\n                        <small\r\n                          class=\"form-text text-muted danger\"\r\n                          *ngIf=\"submitted && f.quantity.errors\"\r\n                          class=\"invalid-feedback\"\r\n                        >\r\n                          <div *ngIf=\"f.quantity.errors.required\">\r\n                            La cantidad del producto es requerida.\r\n                          </div>\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-3 m-auto\">\r\n                      <label>Precio venta </label>\r\n                      <div class=\"input-group\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"Precio venta\"\r\n                          formControlName=\"total\"\r\n                          readonly\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-3 m-auto\">\r\n                      <br />\r\n                      <div class=\"input-group\">\r\n                        <button\r\n                          (click)=\"addPreview()\"\r\n                          class=\"btn btn-primary btn-min-width mr-1 mb-1\"\r\n                        >\r\n                          <i class=\"la la-plus\"></i> Agregar producto\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </ng-container>\r\n            </m-card>\r\n          </div>\r\n          <div\r\n            class=\"col-md-4 col-xl-4 col-lg-12\"\r\n            *blockUI=\"'productsSale'; message: 'Loading'\"\r\n          >\r\n            <m-card\r\n              [options]=\"options\"\r\n              (reloadFunction)=\"reloadSelectProductInfo($event)\"\r\n            >\r\n              <ng-container mCardHeaderTitle> Lista de productos </ng-container>\r\n              <ng-container mCardBody>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"table-responsive card-body\">\r\n                      <table\r\n                        mdbTable\r\n                        responsive=\"true\"\r\n                        class=\"table table-striped\"\r\n                      >\r\n                        <thead>\r\n                          <tr>\r\n                            <th *ngFor=\"let head of headElements2\" scope=\"col\">\r\n                              {{ head }}\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr\r\n                            mdbTableCol\r\n                            *ngFor=\"let el of productList; index as i\"\r\n                          >\r\n                            <td scope=\"row\">{{ el.name }}</td>\r\n                            <td>{{ el.quantity }}</td>\r\n                            <td>{{ el.totalPrice }}</td>\r\n                            <td>\r\n                              <button\r\n                                (click)=\"onRemove(i)\"\r\n                                class=\"\r\n                                  btn btn-xs btn-social-icon\r\n                                  mr-1\r\n                                  mb-1\r\n                                  btn-pinterest\r\n                                \"\r\n                              >\r\n                                <span class=\"la la-trash\"></span>\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <form [formGroup]=\"productInfo2\">\r\n                  <div class=\"form-group\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-md-6\">\r\n                        <div class=\"row\">\r\n                          <label class=\"col-md-6 text-right\"\r\n                            ><b>Total:</b>\r\n                          </label>\r\n                          <div class=\"col-md-5\">\r\n                            <label controlName=\"precioTotal\"></label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-6\">\r\n                        <div class=\"row\">\r\n                          <div class=\"col-md-8\">\r\n                            <button\r\n                              (click)=\"onPay()\"\r\n                              class=\"btn btn-primary btn-min-width mr-1 mb-1\"\r\n                            >\r\n                              <i class=\"la la-mouse-pointer\"></i> Pagar\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </ng-container>\r\n            </m-card>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { formatDate } from '@angular/common';\r\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { BlockUI, NgBlockUI } from 'ng-block-ui';\r\nimport { ClientService } from 'src/app/_api/client/client.service';\r\nimport { ProductService } from 'src/app/_api/product/product.service';\r\nimport { SaleService } from 'src/app/_api/sale/sale.service';\r\nimport { Client } from 'src/app/_models/client';\r\nimport { Product } from 'src/app/_models/product2';\r\nimport { NotificationService } from 'src/app/_services/notificacion.service';\r\n\r\n@Component({\r\n  selector: 'app-pay-sale',\r\n  templateUrl: './pay-sale.component.html',\r\n  styleUrls: ['./pay-sale.component.css']\r\n})\r\nexport class PaySaleComponent implements OnInit {\r\n\r\n  @Input() public saldoTotal: number;\r\n  @Output() passEntry: EventEmitter<any> = new EventEmitter();\r\n  @BlockUI('searchClientInfo') blockUISearchClient: NgBlockUI;\r\n\r\n  public payFormGroup: FormGroup;\r\n  private saldoFlag: number;\r\n  private sedescuenta: number = 0;\r\n  private currentUser: any;\r\n  public submittedSearch = false;\r\n  public submitted = false;\r\n  public showData = false;\r\n  private client: Client = {};\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public activeModal: NgbActiveModal,\r\n    public productService: ProductService,\r\n    private saleService: SaleService,\r\n    private clientService: ClientService,\r\n    private notifyService: NotificationService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"this.saldoTotal\", this.saldoTotal);\r\n\r\n    this.payFormGroup = this.formBuilder.group({\r\n      rut: ['', Validators.required],\r\n      amount: [''],\r\n      paidWith: ['', Validators.required],\r\n      change: [''],\r\n      discount: [''],\r\n      nameclient: [''],\r\n      withdiscount: [''],\r\n    });\r\n\r\n    this.cargarDatos();\r\n    this.getUserLogged();\r\n\r\n  }\r\n\r\n  getUserLogged(): void {\r\n    if (localStorage.getItem('currentUser')) {\r\n      this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.payFormGroup.controls;\r\n  }\r\n\r\n  get fValue() {\r\n    return this.payFormGroup.value;\r\n  }\r\n\r\n  cargarDatos() {\r\n    this.f['amount'].patchValue(this.saldoTotal);\r\n  }\r\n\r\n  onPaySubmit() {\r\n    this.submitted = true;\r\n\r\n    if (this.f['paidWith'].invalid) {\r\n      return;\r\n    }\r\n\r\n    if (this.showData === true) {\r\n      this.productService.productListSelected.forEach(element => {\r\n        if (element.totalPrice < this.sedescuenta) { }\r\n        else {\r\n          element.totalPrice = element.totalPrice - this.sedescuenta;\r\n        }\r\n      });\r\n      this.updateStock(this.productService.productListSelected, this.currentUser.uid);\r\n      this.addSale(this.productService.productListSelected, this.currentUser.uid);\r\n      this.saldoTotal = 0;\r\n      this.passEntry.emit(true);\r\n      this.activeModal.close(true);\r\n    } else {\r\n      this.updateStock(this.productService.productListSelected, this.currentUser.uid);\r\n      this.addSale(this.productService.productListSelected, this.currentUser.uid);\r\n      this.saldoTotal = 0;\r\n      this.passEntry.emit(true);\r\n      this.activeModal.close(true);\r\n    }\r\n  }\r\n\r\n  searchClient(): void {\r\n    this.submittedSearch = true;\r\n\r\n    if (this.f['rut'].invalid) {\r\n      return;\r\n    }\r\n\r\n    this.blockUISearchClient.start('Cargando...');\r\n    this.clientService.getOneClient(this.fValue.rut, this.currentUser.uid).subscribe(\r\n      data => {\r\n        if (data == null) {\r\n          this.notifyService.showWarning(\"Aviso\", \"¡Usuario no encontrado!\");\r\n          this.clean();\r\n        } else {\r\n          this.client = data;\r\n          this.showData = true;\r\n          this.f['paidWith'].patchValue('');\r\n          this.f['change'].patchValue('');\r\n          this.f['discount'].patchValue(data.percent);\r\n          this.f['nameclient'].patchValue(data.name + ' ' + data.lastname);\r\n          this.sedescuenta = this.saldoTotal * (parseInt(data.percent, 10) / 100);\r\n          var withDisc = this.saldoTotal - this.sedescuenta;\r\n          //var withDisc = this.calcDiscount(data);\r\n          this.f['withdiscount'].patchValue(withDisc);\r\n          this.saldoFlag = this.saldoTotal;\r\n          this.saldoTotal = withDisc;\r\n        }\r\n        this.blockUISearchClient.stop();\r\n\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n  checkDiscount(fpercent: any) {\r\n    this.saldoTotal = this.saldoFlag;\r\n    console.log(\"this.saldoTotal: \", this.saldoTotal);\r\n    console.log(\"this.sedescuenta: \", this.sedescuenta);\r\n    var percent = parseInt(fpercent, 10);\r\n    this.sedescuenta = this.saldoTotal * (percent / 100);\r\n    var withDisc = this.saldoTotal - this.sedescuenta;\r\n    this.f['withdiscount'].patchValue(withDisc);\r\n    this.saldoTotal = withDisc;\r\n  }\r\n\r\n  calcDiscount(client: Client): number {\r\n    this.sedescuenta = this.saldoTotal * (parseInt(client.percent, 10) / 100);\r\n    var withDisc = this.saldoTotal - this.sedescuenta;\r\n    return withDisc;\r\n  }\r\n\r\n\r\n  addSale(productList: Array<Product>, uidBoss: string): void {\r\n    productList.forEach(element => {\r\n      var dateSale = new Date();\r\n      element.date = dateSale;\r\n      this.saleService.addSaleProduct(element, uidBoss);\r\n    });\r\n  }\r\n\r\n  updateStock(productList: Array<Product>, uidBoss: string): void {\r\n    productList.forEach(element => {\r\n      var stockF = element.stock;\r\n      var stockR = element.quantity;\r\n\r\n      var stockFint = this.stringToInt(stockF);\r\n\r\n      var stockRestante = this.intToString((stockFint - stockR));\r\n\r\n      this.productService.updateFieldOnProduct(element.id, uidBoss, stockRestante);\r\n    });\r\n  }\r\n\r\n\r\n  clean() {\r\n    this.client = {};\r\n    console.log(\"this.saldoTotal\", this.saldoTotal);\r\n    console.log(\"this.saldoFlag\", this.saldoFlag);\r\n    this.submittedSearch = false;\r\n    this.showData = false;\r\n    this.sedescuenta = 0;\r\n    this.f['rut'].patchValue('');\r\n    this.f['paidWith'].patchValue('');\r\n    this.f['change'].patchValue('');\r\n    this.f['discount'].patchValue('');\r\n    this.f['nameclient'].patchValue('');\r\n    this.f['withdiscount'].patchValue('');\r\n    console.log(\"this.saldoTotal\", this.saldoTotal);\r\n    this.saldoTotal = this.saldoFlag;\r\n    console.log(\"this.saldoTotal\", this.saldoTotal);\r\n  }\r\n\r\n  stringToInt(value: string): number {\r\n    var res = parseInt(value, 10);\r\n\r\n    return res;\r\n  }\r\n\r\n  intToString(value: number): string {\r\n    var res = value + \"\";\r\n\r\n    return res;\r\n  }\r\n\r\n  calChange(event: any) {\r\n    console.log(\"calcChange:\", this.saldoTotal);\r\n    if (event == \"\") {\r\n      this.f['change'].patchValue(0);\r\n    } else {\r\n      var change = event - this.saldoTotal;\r\n      this.f['change'].patchValue(change);\r\n    }\r\n  }\r\n\r\n  checkRun() {\r\n    let run = this.payFormGroup.get(\"rut\");\r\n    //Despejar Puntos\r\n    var runClean = run.value.replace('.', '');\r\n    // Despejar Guión\r\n    runClean = runClean.replace('-', '');\r\n\r\n    // Aislar Cuerpo y Dígito Verificador\r\n    let body = runClean.slice(0, -1);\r\n    let dv = runClean.slice(-1).toUpperCase();\r\n\r\n    // Formatear RUN\r\n    run.setValue(body + '-' + dv);\r\n  }\r\n\r\n\r\n  deleteClientInFront() {\r\n    console.log(\"Se presionó\");\r\n    this.clean();\r\n  }\r\n\r\n  keyPress(event: any) {\r\n    const pattern = /[0-9\\+\\-\\ ]/;\r\n\r\n    const inputChar = String.fromCharCode(event.charCode);\r\n    if (event.keyCode !== 8 && !pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n  <!--h4 class=\"modal-title\" id=\"modal-basic-title\">Profile update</h4-->\r\n  <h4 class=\"form-section\">\r\n    <i class=\"mr-2 mt-6 feather ft-shopping-cart\"></i>Realizar pago\r\n  </h4>\r\n  <button\r\n    type=\"button\"\r\n    class=\"close\"\r\n    aria-label=\"Close\"\r\n    (click)=\"activeModal.dismiss('Cross click')\"\r\n  >\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\">\r\n  <form\r\n    class=\"form form-horizontal\"\r\n    [formGroup]=\"payFormGroup\"\r\n    (ngSubmit)=\"onPaySubmit()\"\r\n  >\r\n    <div class=\"row justify-content-md-center\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"form-body\">\r\n          <div class=\"form-group row mx-auto\">\r\n            <label class=\"col-md-3 label-control\" for=\"eventRegInput4\"\r\n              >Buscar cliente</label\r\n            >\r\n            <div\r\n              class=\"col-md-9\"\r\n              *blockUI=\"'searchClientInfo'; message: 'Loading'\"\r\n            >\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"eventInput4\"\r\n                  class=\"form-control\"\r\n                  formControlName=\"rut\"\r\n                  (input)=\"checkRun()\"\r\n                  [ngClass]=\"{ 'is-invalid': submittedSearch && f.rut.errors }\"\r\n                  placeholder=\"Rut\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    (click)=\"searchClient()\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-icon btn-primary mr-1\"\r\n                  >\r\n                    <i class=\"la la-search\"></i>\r\n                  </button>\r\n                </div>\r\n                <small\r\n                  class=\"form-text text-muted danger\"\r\n                  *ngIf=\"submittedSearch && f.rut.errors\"\r\n                  class=\"invalid-feedback\"\r\n                >\r\n                  <div *ngIf=\"f.rut.errors.required\">El rut es requerido</div>\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"showData\">\r\n            <hr />\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              aria-label=\"Close\"\r\n              placement=\"top\"\r\n              ngbTooltip=\"Eliminar descuento\"\r\n              (click)=\"deleteClientInFront()\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n            <div class=\"form-group row mx-auto\">\r\n              <label class=\"col-md-3 label-control\" for=\"eventRegInput6\"\r\n                >Cliente</label\r\n              >\r\n              <div class=\"col-md-9\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"eventInput6\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Nombre cliente\"\r\n                  formControlName=\"nameclient\"\r\n                  readonly\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group row mx-auto\">\r\n              <label class=\"col-md-3 label-control\" for=\"eventRegInput5\"\r\n                >Descuento</label\r\n              >\r\n              <div class=\"col-md-9\">\r\n                <div class=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"eventInput5\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Descuento\"\r\n                    formControlName=\"discount\"\r\n                    (ngModelChange)=\"checkDiscount($event)\"\r\n                  />\r\n                  <div class=\"input-group-append\">\r\n                    <span class=\"input-group-text\" id=\"descuento\">%</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n          </div>\r\n          <div class=\"form-group row mx-auto\">\r\n            <label class=\"col-md-3 label-control\" for=\"eventRegInput1\"\r\n              >Monto a pagar</label\r\n            >\r\n            <div class=\"col-md-9\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"eventInput1\"\r\n                class=\"form-control\"\r\n                placeholder=\"Monto a pagar\"\r\n                formControlName=\"amount\"\r\n                readonly\r\n              />\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"showData\">\r\n            <hr />\r\n            <div class=\"form-group row mx-auto\">\r\n              <label class=\"col-md-3 label-control\" for=\"eventRegInput7\"\r\n                >Monto con descuento</label\r\n              >\r\n              <div class=\"col-md-9\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"eventInput7\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Monto a pagar\"\r\n                  formControlName=\"withdiscount\"\r\n                  readonly\r\n                />\r\n              </div>\r\n            </div>\r\n            <hr />\r\n          </div>\r\n          <div class=\"form-group row mx-auto\">\r\n            <label class=\"col-md-3 label-control\" for=\"eventRegInput2\"\r\n              >Paga con</label\r\n            >\r\n            <div class=\"col-md-9\">\r\n              <input\r\n                (keypress)=\"keyPress($event)\"\r\n                (ngModelChange)=\"calChange($event)\"\r\n                type=\"text\"\r\n                id=\"eventInput2\"\r\n                class=\"form-control\"\r\n                placeholder=\"Paga con\"\r\n                formControlName=\"paidWith\"\r\n                [ngClass]=\"{ 'is-invalid': submitted && f.paidWith.errors }\"\r\n              />\r\n              <small\r\n                class=\"form-text text-muted danger\"\r\n                *ngIf=\"submitted && f.paidWith.errors\"\r\n                class=\"invalid-feedback\"\r\n              >\r\n                <div *ngIf=\"f.paidWith.errors.required\">\r\n                  El monto a pagar es requerido\r\n                </div>\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mx-auto\">\r\n            <label class=\"col-md-3 label-control\" for=\"eventRegInput3\"\r\n              >Vuelto</label\r\n            >\r\n            <div class=\"col-md-9\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"eventInput3\"\r\n                class=\"form-control\"\r\n                placeholder=\"Vuelto\"\r\n                formControlName=\"change\"\r\n                readonly\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            (click)=\"activeModal.dismiss('click cancel')\"\r\n            type=\"button\"\r\n            class=\"btn btn-sm grey btn-outline-secondary\"\r\n          >\r\n            <i class=\"feather ft-x\"></i> Cerrar\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-sm btn-outline-primary\">\r\n            <i class=\"la la-check\"></i> Aceptar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}